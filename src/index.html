<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  @@include('layout/meta.html', { "title" : "Entrance" })
  <script src="./js/mouse.js"></script>
</head>

<body>
  <div class="mouse"></div>
  <div class="entrance">
    <div class="entrance_container">
      <div class="entrance_visitor entrance_box mouseOn" onclick="setTimeout(()=>{
window.location.assign('homePage.html')
      },800)">
        <h1 class="h1 font_w7 fontcontent">Visitor</h1>
      </div>
      <div class="entrance_admin entrance_box mouseOn" onclick="setTimeout(()=>{
        window.location.assign('backend.html')
              },800)">
        <h1 class="h1 font_w7 fontcontent">Admin</h1>
      </div>
      <div class="entrance_designer entrance_box mouseOn" onclick="setTimeout(()=>{
        window.location.assign('backendDesigner.html')
              },800)">
        <h1 class="h1 font_w7 fontcontent">Designer</h1>
      </div>
    </div>
  </div>
  <div class="entrance_lamp"></div>

  <div id="entrance_light" class="entrance_homepage"></div>

  <script>
    function tracking(e) {
      if(screen.width>768){
      let lamp = document.querySelector(".entrance_lamp");
      let light = document.querySelector("#entrance_light");
      let rotateDeg =
        Math.round((Math.atan((lamp.offsetLeft - e.pageX) /(window.innerHeight - light.offsetTop)) *180) /Math.PI) +57 +125;

      light.setAttribute(
        "style",
        "-webkit-mask-image:conic-gradient(from 0deg at 50% 0%, #000000 " +
        `${-(rotateDeg - 80)}` +
        "deg, #000000 " +
        `${rotateDeg - 80}` +
        "deg, transparent " +
        `${rotateDeg - 30}` +
        "deg, transparent " +
        `${rotateDeg}` +
        "deg, transparent " +
        `${rotateDeg + 20}` +
        "deg, #000000 " +
        `${rotateDeg + 70}` +
        "deg, #000000 " +
        `${rotateDeg + 240}` +
        "deg);"
      );}

      // console.log(rotateDeg);
    }

    function init() {
      window.addEventListener("mousemove", tracking, false);
    }

    window.addEventListener("load", init, false);
  </script>
</body>

</html>